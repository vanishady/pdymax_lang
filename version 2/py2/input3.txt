import pdawlib

patch myfirst

func bpm_to_ms($bpm:intn) {

	$ms = (60*100)/$bpm
	return $ms

}



block clock($lenstepseq:intn, $bpm:intn) {
	

	msg(@bpm_to_ms($bpm)) > floatatom > $m = metro.in2
	toggle > [$m, $sel0 = sel(0)]


}

$node = obj(6).out3 > text('ciao').in2 > [$u = osc, dac] > text('dioca') > text('ciao').in1
@clock(8, 160)

;

